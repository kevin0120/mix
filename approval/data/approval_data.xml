<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="mt_approval_created" model="mail.message.subtype">
            <field name="name">Approval Created</field>
            <field name="res_model">approval.approval</field>
            <field name="default" eval="False"/>
            <field name="hidden" eval="False"/>
            <field name="description">Approval Created</field>
        </record>
        <record id="mt_approval_canceled" model="mail.message.subtype">
            <field name="name">Approval Canceled</field>
            <field name="res_model">approval.approval</field>
            <field name="default" eval="False"/>
            <field name="hidden" eval="False"/>
            <field name="description">Approval Canceled</field>
        </record>
        <record id="mt_approval_start" model="mail.message.subtype">
            <field name="name">Approval Start</field>
            <field name="res_model">approval.approval</field>
            <field name="default" eval="False"/>
            <field name="hidden" eval="False"/>
            <field name="description">Approval Start</field>
        </record>
        <record id="mt_approval_done" model="mail.message.subtype">
            <field name="name">Approval Done</field>
            <field name="res_model">approval.approval</field>
            <field name="default" eval="False"/>
            <field name="hidden" eval="False"/>
            <field name="description">Approval Done</field>
        </record>

        <record id="approval_template_needaction_mail" model="mail.template">
            <field name="name">Approval: Action</field>
            <field name="email_from">${user.company_id.email}</field>
            <field name="subject">Approval (Ref ${object.approval_id.name or 'n/a'}) Notification</field>
            <field name="model_id" ref="approval.model_approval_flow"/>
            <field name="auto_delete" eval="False"/>
            <field name="email_to" >${(object.employee_id.user_id.email or ''|safe)}</field>
            <field name="partner_to">${False}</field>
            <field name="body_html"><![CDATA[
<div summary="o_mail_template" style="padding:0px;width:600px;margin:auto;background: #FFFFFF repeat top /100%;color:#777777">
% set colors = {'draft': 'grey', 'start': 'green', 'approved': '#FFFF00',  'rejected': 'red'}
    <table cellspacing="0" cellpadding="0" style="width:600px;border-collapse:collapse;background:inherit;color:inherit">
        <tbody><tr>
            <td valign="center" width="200" style="padding:10px 10px 10px 5px;font-size: 12px">
                <img src="/logo.png" style="padding: 0px; margin: 0px; height: auto; width: 80px;" alt="${user.company_id.name}">
            </td>
            <td valign="center" align="right" width="340" style="padding:10px 10px 10px 5px; font-size: 12px;">
                <p>
                    <a href="/approval/view?db=${'dbname' in ctx and ctx['dbname'] or ''}&token=${object.access_token}&action=${'action_id' in ctx and ctx['action_id'] or ''}&active_id=${'active_id' in ctx and ctx['active_id'] or ''}" style="padding: 5px 10px; font-size: 12px; line-height: 18px; color: #FFFFFF; border-color:#875A7B; text-decoration: none; display: inline-block; margin-bottom: 0px; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer; white-space: nowrap; background-image: none; background-color: #875A7B; border: 1px solid #875A7B; border-radius:3px">View</a>
                </p>
            </td>
        </tr></tbody>
    </table>
    <table cellspacing="0" cellpadding="0" style="width:600px;border-collapse:collapse;background:inherit;color:inherit">
        <tbody><tr>
            <td valign="top" style="width:600px; padding:10px 10px 10px 5px;">
                <div>
                    <hr width="100%" style="background-color:rgb(204,204,204);border:medium none;clear:both;display:block;font-size:0px;min-height:1px;line-height:0;margin:15px auto;padding:0">
                </div>
            </td>
        </tr></tbody>
    </table>
</div>
<div style="padding:0px;width:600px;margin:auto;background: #FFFFFF repeat top /100%;color:#777777">
    <table cellspacing="0" cellpadding="0" style="width:600px;border-collapse:collapse;background:inherit;color:inherit">
        <tbody><tr>
            <td style="padding:10px 10px 10px 5px;font-size: 14px;">
                <p style="font-size: 20px; text-align: center;">Invitation to <strong>${object.name}</strong></p>
                <p>
                    <strong>Dear ${object.employee_id.name}</strong>,<br />
                    ${user.name} invited you for the ${object.approval_id.name}.</p>
                <table style="margin-top: 20px;"><tr>
                    <td width="20px;"/>
                    <td>
                        <p>Details of the approval</p>
                        <ul>
                        % if object.description :
                            <li>Description: ${object.approval_id.description}</li>
                        % endif
                        <li>Approval Flows
                        <ul>
                        % for flow in object.approval_id.stage_ids:
                            <li>
                                <div style="display:inline-block; border-radius: 50%; width:10px; height:10px;background:${colors[flow.state] or 'white'};"></div>
                                % if flow.id != object.id:
                                <span style="margin-left:5px">${flow.employee_id.name}</span>
                                % else:
                                <span style="margin-left:5px">You</span>
                                % endif
                            </li>
                        % endfor
                        </ul></li>
                        </ul>
                    </td>
                </tr></table>
            </td>
        </tr></tbody>
    </table>
</div>]]></field>
        </record>

        <record id="approval_reject_template_mail" model="mail.template">
            <field name="name">Approval Reject Notification</field>
            <field name="email_from">${user.company_id.email}</field>
            <field name="subject">Approval(Ref ${object.name or 'n/a'}) Rejected by ${(user.name or '')|safe}</field>
            <field name="email_to">${object.owner_user_id.user_id.email}</field>
            <field name="reply_to">${(user.email or '')|safe}</field>
            <field name="model_id" ref="approval.model_approval_approval"/>
            <field name="auto_delete" eval="False"/>
            <!--<field name="report_template" ref="action_report_purchase_order"/>-->
            <!--<field name="report_name">PO_${(object.name or '').replace('/','_')}</field>-->
            <field name="lang">${object.owner_user_id.user_id.lang}</field>
            <field name="body_html"><![CDATA[

<div style='background-image:url(/approval/static/img/red-rejected-stamp.png);background-size:75px 55px;
background-repeat:no-repeat;padding:30px;margin-bottom:20px'>
<p style='font-size:16px;co lor;font-weight:bold'>Dear ${object.owner_user_id.user_id.name}
% if object.owner_user_id.user_id.parent_id:
    (<i>${object.owner_user_id.user_id.parent_id.name}</i>)
% endif
,</p>
<p style='font-size:14px;'>
Your Approval <span style='color:rgb(197, 193, 193)'>${object.name}</span> have been <span style='color:rgb(197, 193, 193)'>Rejected</span> by ${(user.name or '')|safe} !
</p>
</div>
<p>
Reason:
<br/>
You can replace your reason here!
<br/>
from ${user.name}.
</p>

Best regards,
<br/>
${user.signature | safe}
Sent by ${user.company_id.name}
]]></field>
        </record>

        <record id="approval_approve_template_mail" model="mail.template">
            <field name="name">Approval Approve Notification</field>
            <field name="email_from">${user.company_id.email}</field>
            <field name="reply_to">${(user.email or '')|safe}</field>
            <field name="subject">Approval(Ref ${object.name or 'n/a'}) Approved by ${(user.name or '')|safe}</field>
            <field name="email_to">${object.owner_user_id.user_id.email}</field>
            <field name="model_id" ref="approval.model_approval_approval"/>
            <field name="auto_delete" eval="False"/>
            <!--<field name="report_template" ref="action_report_purchase_order"/>-->
            <!--<field name="report_name">PO_${(object.name or '').replace('/','_')}</field>-->
            <field name="lang">${object.owner_user_id.user_id.lang}</field>
            <field name="body_html"><![CDATA[


<div style='background-image:url(/approval/static/img/green-approved-stamp.png);background-size:75px 55px;
background-repeat:no-repeat;padding:30px;margin-bottom:20px'>
<p style='font-size:16px;co lor;font-weight:bold'>Dear ${object.owner_user_id.user_id.name}
% if object.owner_user_id.user_id.parent_id:
    (<i>${object.owner_user_id.user_id.parent_id.name}</i>)
% endif
:</p>
<p style='font-size:14px;'>
Your Approval <span style='color:rgb(197, 193, 193)'>${object.name}</span> have been <span style='color:rgb(197, 193, 193)'>Approved</span> by ${(user.name or '')|safe} !
</p>
</div>
<p>
Reason:

from ${user.name}.
</p>

Best regards,
${user.signature | safe}
Sent by ${user.company_id.name}
]]></field>
        </record>

    </data>
</odoo>