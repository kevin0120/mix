<odoo>
    <data>

        <record id="product_search_form_view_sa" model="ir.ui.view">
            <field name="name">product_search_form_view_sa</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="sa_base.product_search_form_view_sa"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='vehicle']" position="replace">
                    <filter string="Carriage" name="carriage" domain="[('sa_type', '=', 'carriage')]"/>
                    <filter string="Consume Component" name="consu" domain="[('sa_type', '=', 'consu')]"/>
                    <filter string="Bolt Socket" name="socket" domain="[('sa_type', '=', 'socket')]"/>
                </xpath>
            </field>
        </record>

        <record id="tangche_product_normal_form_view_inherit" model="ir.ui.view">
            <field name="name">tangche_product_normal_form_view_inherit</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="sa_base.sa_product_normal_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='sa_type']" position="after">
                    <field name="socket" options="{'no_create_edit': True , 'no_open': True}"
                           attrs="{'invisible': [('sa_type', '!=', 'screw')]}"/>
                </xpath>
            </field>
        </record>

        <record id="product_product_action_carriage" model="ir.actions.act_window">
            <field name="name">Carriage</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.product</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="product_search_form_view_sa"/>
            <field name="context">{'default_type':'product','default_tracking':
                'none','default_sa_type':'carriage','search_default_carriage': 1}
            </field>
            <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('sa_base.sa_product_product_tree_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('sa_base.sa_product_normal_form_view')})]"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to define a new carriage.
                </p>
                <p>
                    You must define a product for everything you sell, whether it's
                    a physical product, a consumable or a service you offer to
                    customers.
                </p>
                <p>
                    The product form contains information to simplify the sale
                    process: price, notes in the quotation, accounting data,
                    procurement methods, etc.
                </p>
            </field>
        </record>

        <menuitem id="sa_base.menu_mrp_vehicle_form"
                  name="Carriage"
                  action="tangche_enhanced.product_product_action_carriage"
                  parent="sa_base.menu_product_form"/>

        <record id="product_product_action_consum" model="ir.actions.act_window">
            <field name="name">Consumable Component</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.product</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="product_search_form_view_sa"/>
            <field name="context">{'default_type':'consu','default_tracking':
                'none','default_sa_type':'consu','search_default_consu': 1}
            </field>
            <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('sa_base.sa_product_product_tree_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('sa_base.sa_product_normal_form_view')})]"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to define a new Consumable Component.
                </p>
                <p>
                    You must define a product for everything you sell, whether it's
                    a physical product, a consumable or a service you offer to
                    customers.
                </p>
                <p>
                    The product form contains information to simplify the sale
                    process: price, notes in the quotation, accounting data,
                    procurement methods, etc.
                </p>
            </field>
        </record>

        <menuitem id="tangche_menu_view_consume"
                  name="Consumable Component"
                  sequence="100"
                  action="tangche_enhanced.product_product_action_consum"
                  parent="sa_base.menu_product_form"/>


        <record id="product_product_action_socket" model="ir.actions.act_window">
            <field name="name">Bolt Socket</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.product</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="product_search_form_view_sa"/>
            <field name="context">{'default_type':'consu','default_tracking':
                'none','default_sa_type':'socket','search_default_socket': 1}
            </field>
            <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('sa_base.sa_product_product_tree_view')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('sa_base.sa_product_normal_form_view')})]"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to define a new Bolt Socket.
                </p>
                <p>
                    You must define a product for everything you sell, whether it's
                    a physical product, a consumable or a service you offer to
                    customers.
                </p>
                <p>
                    The product form contains information to simplify the sale
                    process: price, notes in the quotation, accounting data,
                    procurement methods, etc.
                </p>
            </field>
        </record>

        <menuitem id="tangche_menu_view_socket"
                  name="Bolt Socket"
                  sequence="150"
                  action="tangche_enhanced.product_product_action_socket"
                  parent="sa_base.menu_product_form"/>
    </data>
</odoo>