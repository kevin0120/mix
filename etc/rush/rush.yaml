hostname: localhost
data_dir: /home/gubin/.rush
serial_no: 1qaz2wsx
doc_path: ./etc/rush/api.json
logging:
#  file: ./logs/%Y%m%d.log
  file: STDOUT
  level: DEBUG
  max_age: 3000h
  rotate: 24h
httpd:
  bind-address: :8082
  log-enabled: true
  write-tracing: false
  shutdown-timeout: 10s
  cors:
    allowed-origins:
    - '*'
    allow-credentials: true
    allowed-methods:
    - 'GET'
    - 'HEAD'
    - 'POST'
    - 'PUT'
    - 'PATCH'
    - 'OPTIONS'

minio:
  url: 127.0.0.1:9000
  bucket: curves
  access: minio
  secret: minio123
  secure: false
  reupload_interval: 1s
aiis:
  urls:
  - http://127.0.0.1:9092
  headers:
    Content-Type: application/json
  result_push_url: /aiis/v1/operation.results/%d
  push_method: PUT
  timeout: 6s
  push_interval: 5s
  max_retry: 3
  ws_result_route: /aiis/v1/ws/results
  result_upload_inteval: 2s
  grpc_server: 127.0.0.1:9093
  keep_alive: 3s
  recheck: false
odoo:
  urls:
  - http://127.0.0.1:8069
  timeout: 8s
  interval: 1s
  max_retry: 3
  workers: 8
  endpoints:
  - name: getWorkorder
    path: /api/v1/mrp.workorders?code=%s&limit=1&order=production_date
    headers:
    method: GET
  - name: getGun
    path: /api/v1/guns?serial=%s
    headers:
    method: GET
  - name: createMO
    path: /api/v1/mrp.productions
    headers:
    method: POST
  - name: tryCreateMaintenance
    path: /api/v1/maintenance/requests/try
    headers:
    method: POST

websocket:
  route: /rush/v1/ws
  read_buf_size: 10000000
  write_buf_size: 10000000
storage:
  db_url: 127.0.0.1:5433
  db_name: rush_hardware
  db_user: admin
  db_pwd: admin
  max_connection: 60
  vacuum_period: 2160h
  data_keep: 2160h
audi/vw:
  port: 4710
  max_connection: 1024
  read_buf: 65535
  req_time_out: 300ms
  keep_alive_period: 2s
  tool_info_period: 10s
  version: 21

openprotocol:
  keep_alive_period: 10s
  read_buf: 65535
  req_time_out: 300ms
  skip_jobs:
  - 250
  - 240
  io_trigger: 7

  # 0:vin 1:id2 2:id3 3:id4
  data_index: 2
  vin_index:
    - 0
    - 1

  tool_info_period: 10h

scanner:
  enable: false
  entity_label: COM4
io:
  enable: false
  ios:
    - sn: 1
      model: MOXA_E1212
      address: 192.168.127.201:502
    - sn: 2
      model: MOXA_E1212
      address: 192.168.127.202:502
    - sn: 3
      model: MOXA_E1242
      address: 192.168.127.203:502

reader:
  enable: true

device:
  enable: true

# 协议类型: Audi/VW, OpenProtocol
# 支持型号: ModelDesoutterCvi3, ModelDesoutterDeltaWrench
tightening_device:
  enable: true
  devices:
    - model: ModelDesoutterCvi3
      protocol: OpenProtocol
      endpoint: tcp://192.168.3.23:4545
      sn: 0001
      with_curve: true
      tools:
        - sn: 12B62230
          channel: 1
#        - sn: 12B62230
#          channel: 51

#    - model: MODEL_DESOUTTER_CVI3
#      protocol: OpenProtocol
#      endpoint: tcp://192.168.127.109:4545
#      sn: 0002
#      tools:
#        - sn: 1234
#
#    - model: MODEL_DESOUTTER_CVI3
#      protocol: Audi/VW
#      endpoint: tcp://127.0.0.1:4700

#    - model: MODEL_DESOUTTER_DELTA_WRENCH
#      protocol: OpenProtocol
#      endpoint: tcp://192.168.0.222:4545
#      sn: 0001


# 协议类型: Audi/VW, OpenProtocol
controller_service:
  enable: false
  workers: 1
  controllers:
#    - serial_no: 0001
#      protocol: OpenProtocol
#      remote_ip: 192.168.1.101
#      port: 4546
#      channel: 51
#
#    - serial_no: 27231800455
#      protocol: Audi/VW
#      remote_ip: 192.168.5.212
#      port: 4700
#      tools:
#      - gun_serial: 15C92257 5.7.1
#        channel: 1
#      - gun_serial: 18G53917 5.8.2
#        channel: 2